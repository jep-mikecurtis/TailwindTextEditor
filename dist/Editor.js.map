{"version":3,"sources":["Rapyd.js","html/html.js","Editor.js"],"names":["Rapyd","props","methods","init","name","cb","bind","el","value","document","querySelector","innerText","innerHTML","mainContent","target","Editor","editor","addEventListener","e","key","preventDefault","start","selectionStart","end","selectionEnd","substring","keyBefore","content","SetBody","getElementById","split","newContent","length","i","push","join","renderHtml","calcNumbers","allowTab","handleTextarea"],"mappings":"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","file":"Editor.js","sourceRoot":"../src/js","sourcesContent":["class Rapyd {\n  props;\n\n  constructor(props = {}, methods = {}, init = null) {\n    this.props = props;\n\n    for (name in methods) {\n      this[name] = methods[name];\n    }\n\n    if (init) {\n      this.init(init);\n    }\n  }\n\n  init(cb) {\n    cb = cb.bind(this);\n    cb();\n  }\n\n  renderText(el, value) {\n    document.querySelector(el).innerText = value;\n  }\n\n  renderHtml(el, value) {\n    document.querySelector(el).innerHTML = value;\n  }\n}\n\nexport default Rapyd;\n","const mainContent = function (target) {\n  return `\n  <div id=\"${target}_display\" class=\"flex-1 ml-4\"></div>\n    <div id=\"${target}_wrapper\" class=\"flex-1 relative flex bg-grene-600 text-sm border border-gray-800 shdaow leading-loose\">\n      <div id=\"${target}_numbers\" class=\"p-2 text-center bg-gray-100 border-r border-gray-800\">\n    </div>\n    <textarea id=\"${target}_editor\" class=\"flex-1 p-2 outline-none\"></textarea>\n  </div>\n`;\n};\n\nexport { mainContent };\n","import Rapyd from \"./Rapyd\";\nimport { mainContent } from \"./html/html\";\n\nclass Editor extends Rapyd {\n  target;\n  editor = null;\n\n  constructor(target) {\n    super();\n\n    this.target = target;\n\n    this.init();\n  }\n\n  allowTab() {\n    this.editor.addEventListener(\n      \"keydown\",\n      function (e) {\n        if (e.key == \"Tab\") {\n          e.preventDefault();\n          var start = e.target.selectionStart;\n          var end = e.target.selectionEnd;\n\n          e.target.value =\n            e.target.value.substring(0, start) +\n            \"\\t\" +\n            e.target.value.substring(end);\n          e.target.selectionStart = e.target.selectionEnd = start + 1;\n        }\n      }.bind(this)\n    );\n  }\n\n  handleTextarea() {\n    this.editor.addEventListener(\n      \"keyup\",\n      function (e) {\n        this.keyBefore = e.target.value;\n        this.content = e.target.value;\n\n        this.SetBody(this.content);\n      }.bind(this)\n    );\n  }\n\n  calcNumbers() {\n    let content = document\n      .getElementById(`${this.target}_editor`)\n      .value.split(\"\\n\");\n\n    let newContent = [];\n\n    if (content.length < 10) {\n      content.length = 10;\n    }\n\n    for (let i = 0; i < content.length; i++) {\n      newContent.push(`<p>${i + 1}</p>`);\n    }\n\n    document.getElementById(\n      `${this.target}_numbers`\n    ).innerHTML = newContent.join(\"\");\n  }\n\n  SetBody(value) {\n    this.renderHtml(`#${this.target}_display`, value);\n    this.calcNumbers();\n  }\n\n  init() {\n    const content = mainContent(this.target);\n\n    this.renderHtml(`#${this.target}`, content);\n\n    this.calcNumbers();\n\n    this.editor = document.getElementById(`${this.target}_editor`);\n\n    this.allowTab();\n\n    this.handleTextarea();\n\n    this.SetBody(this.editor.value);\n  }\n}\n\nnew Editor(\"app\");\n\nexport default Editor;\n"]}